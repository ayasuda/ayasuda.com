<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>これはタイトルです</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
a
<header>
<h1 class="title">これはタイトルです</h1>
</header>
<h1 id="年のホームページ作り忘備録">2017年の「ホームページ」作り忘備録</h1>
<p>手作業で「ホームページ」のHTMLを組んでいた時代から早15年くらい。 タグの使い分けもスタイルもわからなかった頃から比べて、多少は Web の世界に慣れてきたかなと思う今日この頃です。</p>
<p>さて、あの頃から随分と知識が身についた気がするわけなのですが、果たして本当に技術力は上がったのでしょうか？</p>
<p>復習も兼ねて、たまにはホームページを１から作ってみると、いったい何が出来上がるのか試してみようと思った次第です。</p>
<h2 id="大枠のマークアップ">大枠のマークアップ</h2>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
  <span class="kw">&lt;head&gt;</span>
    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span> <span class="kw">/&gt;</span>
    <span class="kw">&lt;base</span><span class="ot"> href=</span><span class="st">&quot;https://ayasuda.github.io/&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;title&gt;</span>ayasuda.github.io<span class="kw">&lt;/title&gt;</span>
  <span class="kw">&lt;/head&gt;</span>
  <span class="kw">&lt;body&gt;</span>
    <span class="kw">&lt;nav&gt;</span>
    <span class="kw">&lt;/nav&gt;</span>
    <span class="kw">&lt;header&gt;</span>
      <span class="kw">&lt;h1&gt;</span>ayasuda.github.io<span class="kw">&lt;/h1&gt;</span>
    <span class="kw">&lt;/header&gt;</span>
    <span class="kw">&lt;aside&gt;</span>
    <span class="kw">&lt;/aside&gt;</span>
    <span class="kw">&lt;article&gt;</span>
      <span class="kw">&lt;h1&gt;</span>ここに記事のタイトルとか<span class="kw">&lt;/h1&gt;</span>
    <span class="kw">&lt;/article&gt;</span>
    <span class="kw">&lt;footer&gt;</span>
      コピーライトとか
    <span class="kw">&lt;/footer&gt;</span>
  <span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span></code></pre></div>
<p>久しぶりの白紙から作る html です。まずは文書型宣言から書いてきましょう。</p>
<p>HTML5 になり、文書型宣言は随分と簡単になりました。dtdを指定していた頃が嘘のようです。 今や <code>&lt;!DOCTYPE html&gt;</code> だけで十分です。</p>
<p>次に書くのはルート要素である <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/html">html</a> タグです。</p>
<p>それに続く <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/head">head</a> <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/body">body</a> はいつも通りですが、 <code>&lt;meta charset=&quot;utf-8&quot; /&gt;</code> は MDN を読むと強く推奨されています。 ( <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/style">meta</a> )</p>
<p>その他、 <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/title">title</a> <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/base">base</a> <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/link">link</a> <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/style">style</a> あたりを適宜書いていきましょう。</p>
<p>さて、HTML5 では <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Sections_and_Outlines_of_an_HTML5_document">セクションとアウトラインに関するタグ</a> が追加されました。</p>
<p>まず <a href="https://developer.mozilla.org/ja/docs/HTML/Element/section">section</a> と <a href="https://developer.mozilla.org/ja/docs/HTML/Element/article">article</a> により、ページ内の内容の境界が明確に分離可能になりました。</p>
<p><code>section</code> も <code>article</code> もそれぞれ文書の一かたまりを示しますが、 <code>article</code> には「独立したコンテンツ」というニュアンスが含まれます。 ですので、個別の記事ページを作りたいのであれば、記事全体を <code>article</code> で囲ってやるのが良いでしょう。</p>
<p>また、 <code>section</code> も <code>article</code> もそれぞれ別個の文書の塊を示せるため、それぞれが <code>h1</code> - <code>h6</code> までの見出しを持てるようになりました。 ですので、例えば <code>body</code> 直下にサイト全体のタイトルを示す <code>h1</code> を置きつつ、個別の記事のタイトルを <code>article</code> 直下の <code>h1</code> におけるようになりました。</p>
<p>その他にも、主要なナビゲーションを示す <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/nav">nav</a> や、メインコンテンツとの関連が希薄なセクションである <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/aside">aside</a> （サイドバーやコラムに用いることが想定されています）なども追加されました。</p>
<p>これらのセクションそれぞれにヘッダやフッタを示す <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/header">header</a> や <a href="https://developer.mozilla.org/ja/docs/Web/HTML/Element/footer">footer</a> も使えるようになりましたので、様々なものが、よりスッキリと書けるようになりました。</p>
<p>例えば、ブログの個別記事ページなどでは次のように書くことができます。</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;body&gt;</span>
  <span class="kw">&lt;header&gt;</span>
    <span class="kw">&lt;h1&gt;</span>Hogeのブログ<span class="kw">&lt;/h1&gt;</span>
  <span class="kw">&lt;/header&gt;</span>
  <span class="kw">&lt;nav&gt;</span>
    ブログ全体のナビゲーション
  <span class="kw">&lt;/nav&gt;</span>
  <span class="kw">&lt;aside&gt;</span>
    サイドバーや広告枠など
  <span class="kw">&lt;/aside&gt;</span>
  <span class="kw">&lt;article&gt;</span>
    <span class="kw">&lt;header&gt;</span>
      個別記事のヘッダ
      <span class="kw">&lt;h1&gt;</span>個別記事のタイトル<span class="kw">&lt;/h1&gt;</span>
      <span class="kw">&lt;span&gt;</span>投稿日時とか<span class="kw">&lt;/span&gt;</span>
    <span class="kw">&lt;/header&gt;</span>
    <span class="kw">&lt;section&gt;</span>
      記事の本文
      ...
    <span class="kw">&lt;/section&gt;</span>
    <span class="kw">&lt;footer&gt;</span>
      個別記事のフッタ。パーマリンクなど
    <span class="kw">&lt;/footer&gt;</span>
  <span class="kw">&lt;/article&gt;</span>
  <span class="kw">&lt;footer&gt;</span>
    ブログ全体のフッター、コピーライトなど
  <span class="kw">&lt;/footer&gt;</span>
<span class="kw">&lt;/body&gt;</span></code></pre></div>
<h2 id="コンテンツスタイルスクリプト">コンテンツ・スタイル・スクリプト</h2>
<p>大枠はできました。 ブラウザに表示して、白と黒の画面を眺めながら、 どうやってコンテンツを作っていくか考えましょう。</p>
<p>全てのコンテンツで生 html を書くのは常軌を逸しています。 また、どうせならコンテンツは markdown で書いていきたいものです。</p>
<p>markdown を html に変換する方法は幾つかありますが、 単一の markdown を単一の html に変換しやすいという観点から言えば pandoc が一番素直でしょう。</p>
<pre><code>$ pandoc -f markdown -t html5 foo.md &gt; foo.html</code></pre>
<p>pandoc はテンプレート、メタデータもサポートしているので、たとえば 以下の構成でファイルを用意しておく</p>
<p>template.html metadata.yml pages/foo.md publish/</p>
<p>特定の拡張子のファイルを特定の拡張子のファイルに変換するなら なんだかんだで make は使いやすい。</p>
<p>なので、こんな Makefile を用意しておく</p>
<p>どうせスタイルとスクリプトは使う</p>
<p>スタイルとスクリプトを用意しておこう 個人的な趣味から、コンポーネント志向でいきたい。</p>
<p>そもそもコンテンツは何があるか</p>
<p>pages 以下に個別の記事を作っていく pages 以下のアレを index から見られる</p>
<p>スタイルは何はなくとも postCSS を使いたいし、js は es-2017 を使いたい bundle.js と application.css を作る</p>
<p>postcss-cli, postcss-cssnext 使えば cc っぽくいける</p>
<pre><code>$ yarn init
$ yarn add postcss-cli postcss-cssnext</code></pre>
<div class="sourceCode"><pre class="sourceCode javascript:postcss.config.js"><code class="sourceCode javascript"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span>
  <span class="dt">plugins</span><span class="op">:</span> [
    <span class="at">require</span>(<span class="st">&#39;postcss-import&#39;</span>)<span class="op">,</span>
    <span class="at">require</span>(<span class="st">&#39;postcss-cssnext&#39;</span>)
  ]
<span class="op">}</span></code></pre></div>
<p>css は全体で一つの css を使うのか？　それとも個別 css を使うのか？ とりあえず一つの css を使う。</p>
<h2 id="スタイル">スタイル</h2>
<p>reset.css</p>
<p>まずはブラウザごとのスタイル、ユーザーエージェントスタイルをリセットしたいので、リセットCSS を適用しましょう。 リセットCSSは流派ごとの違いがあります。 http://friends.o2p.jp/index.html</p>
<p>それが終わったら、今回はアトミックデザインでデザインを作ってみたい。</p>
<p>まず、基本要素で構成された html ファイルを用意してみる。</p>
<p>モバイルファースト</p>
<h2 id="その他">その他</h2>
<blockquote>
<p>どうやってビルドして、どうやって配信するか？</p>
<p>今は2017年ですので、cssやjsはモダンなものを使いたいものです。 また、コンテンツはどうせなら Markdown で書いていきたいものです。</p>
<p>詳細は「ホームページ作り」から大きく外れてしまいm 何も考えずに github pages を使うことにしました。</p>
</blockquote>
<p>markdown で書いて、pandoc で html にコンパイル あああ</p>
</body>
</html>
